(()=>{"use strict";const t=require("firebase/app"),e=require("firebase/firestore"),o=require("firebase/auth"),r=require("googleapis"),a=require("google-auth-library");function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function l(){l=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,r=Object.defineProperty||function(t,e,o){t[e]=o.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,o){return t[e]=o}}function u(t,e,o,a){var n=e&&e.prototype instanceof p?e:p,l=Object.create(n.prototype),i=new D(a||[]);return r(l,"_invoke",{value:k(t,o,i)}),l}function f(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var v={};function p(){}function g(){}function x(){}var m={};d(m,i,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(P([])));h&&h!==e&&o.call(h,i)&&(m=h);var _=x.prototype=p.prototype=Object.create(m);function y(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function a(r,l,i,c){var s=f(t[r],t,l);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==n(u)&&o.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,i,c)}),(function(t){a("throw",t,i,c)})):e.resolve(u).then((function(t){d.value=t,i(d)}),(function(t){return a("throw",t,i,c)}))}c(s.arg)}var l;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){a(t,o,e,r)}))}return l=l?l.then(r,r):r()}})}function k(t,e,o){var r="suspendedStart";return function(a,n){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw n;return S()}for(o.method=a,o.arg=n;;){var l=o.delegate;if(l){var i=C(l,o);if(i){if(i===v)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===r)throw r="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r="executing";var c=f(t,e,o);if("normal"===c.type){if(r=o.done?"completed":"suspendedYield",c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r="completed",o.method="throw",o.arg=c.arg)}}}function C(t,e){var o=e.method,r=t.iterator[o];if(void 0===r)return e.delegate=null,"throw"===o&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var a=f(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,v;var n=a.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return g.prototype=x,r(_,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:g,configurable:!0}),g.displayName=d(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},y(w.prototype),d(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,o,r,a,n){void 0===n&&(n=Promise);var l=new w(u(e,o,r,a),n);return t.isGeneratorFunction(o)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},y(_),d(_,s,"Generator"),d(_,i,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),o=[];for(var r in e)o.push(r);return o.reverse(),function t(){for(;o.length;){var r=o.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(o,r){return l.type="throw",l.arg=t,e.next=o,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],l=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var i=o.call(n,"catchLoc"),c=o.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var l=n?n.completion:{};return l.type=t,l.arg=e,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),T(o),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var r=o.completion;if("throw"===r.type){var a=r.arg;T(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:P(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=void 0),v}},t}function i(t,e,o,r,a,n,l){try{var i=t[n](l),c=i.value}catch(t){return void o(t)}i.done?e(c):Promise.resolve(c).then(r,a)}!function(n,c){if(-1!=location.href.indexOf(n)){(0,t.initializeApp)(c.getConfig);var s,d=window.location.toString();if(d.indexOf("&m=1","&m=1")>0){var u=d.substring(0,d.indexOf("&m=1"));window.history.replaceState({},document.title,u)}if(d.indexOf("?m=1","?m=1")>0){var f=d.substring(0,d.indexOf("?m=1"));window.history.replaceState({},document.title,f)}window.location.href.split("?").pop().split("&").map((function(t){return s=t.replace("%3D","=").split("=")}));var v=(0,e.getFirestore)(),p=(0,o.getAuth)(),g=function(t){var e=t.toDate().getDate(),o=t.toDate().toLocaleString("default",{month:"long"}),r=t.toDate().getFullYear();return"".concat(o," ").concat(e,", ").concat(r)},x=function(t,o){var r={selector:"#post_contents",branding:!1,menubar:"file edit view insert format tools table custom",contextmenu:!1,plugins:"link image preview codesample table toc wordcount code lists insertdatetime emoticons visualblocks autoresize",toolbar:"formatselect | bold italic underline strikethrough superscript subscript blockquote | link image | alignleft aligncenter alignright alignjustify bullist numlist | table toc | codesample preview insertdatetime emoticons visualblocks code",toolbar_sticky:!0,toolbar_sticky_offset:64,toc_class:"elcTOC",toc_depth:6,content_css:"https://cdn.jsdelivr.net/gh/elhakimyasya/Bloggeria@main/dist/styles/materia-auth-tinymce.min.css",content_css_cors:!0,extended_valid_elements:"img[src|loading=lazy|alt|title|width|height|align|onmouseover|onmouseout|name]",insertdatetime_formats:["Updated: %A, %d %B %Y"],mobile:{menubar:"file edit view insert format tools table custom",toolbar_sticky:!0},rel_list:[{title:"Internal Link",value:""},{title:"External Link",value:"noopener noreferer nofollow"}],codesample_languages:[{text:"Command Line",value:"command hljs hl hljs"},{text:"CSS",value:"css hljs hl css"},{text:"C",value:"c hljs hl c"},{text:"C++",value:"cpp hljs hl cpp"},{text:"HTML/XML",value:"html hljs hl html xml"},{text:"Java",value:"java hljs hl java"},{text:"JavaScript",value:"javascript hljs hl javascript"},{text:"JSON",value:"json hljs hl json"},{text:"Markdown",value:"markdown hljs hl markdown"},{text:"PHP",value:"php hljs hl php"},{text:"Python",value:"python hljs hl python"},{text:"TypeScript",value:"typescript hljs hl typescript"}],menu:{custom:{title:"Components",items:"alerts buttons     basicitem toggleitem"}},setup:function(t){t.ui.registry.addNestedMenuItem("alerts",{text:"Alerts",getSubmenuItems:function(){return[{type:"menuitem",text:"Alert - Default",onAction:function(){t.insertContent("<div class='elcreative_alert'>Alert</div>\n")}},{type:"menuitem",text:"Alert - Info",onAction:function(){t.insertContent("<div class='elcreative_alert alert_info'>Alert</div>")}},{type:"menuitem",text:"Alert - Success",onAction:function(){t.insertContent("<div class='elcreative_alert alert_success'>Alert</div>")}},{type:"menuitem",text:"Alert - Warning",onAction:function(){t.insertContent("<div class='elcreative_alert alert_warning'>Alert</div>")}},{type:"menuitem",text:"Alert - Error",onAction:function(){t.insertContent("<div class='elcreative_alert alert_error'>Alert</div>")}},{type:"menuitem",text:"Alert Outline - Default",onAction:function(){t.insertContent("<div class='elcreative_alert alert_outline'>Alert</div>")}},{type:"menuitem",text:"Alert Outline - Info",onAction:function(){t.insertContent("<div class='elcreative_alert alert_outline alert_info'>Alert</div>")}},{type:"menuitem",text:"Alert Outline - Success",onAction:function(){t.insertContent("<div class='elcreative_alert alert_outline alert_success'>Alert</div>")}},{type:"menuitem",text:"Alert Outline - Warning",onAction:function(){t.insertContent("<div class='elcreative_alert alert_outline alert_warning'>Alert</div>")}},{type:"menuitem",text:"Alert Outline - Error",onAction:function(){t.insertContent("<div class='elcreative_alert alert_outline alert_error'>Alert</div>")}}]}}),t.ui.registry.addNestedMenuItem("buttons",{text:"Button Link",getSubmenuItems:function(){return[{type:"menuitem",text:"Button - Default",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple' href='#'>Button</a>")}},{type:"menuitem",text:"Button - Outlined",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple outlined' href='#'>Button</a>")}},{type:"menuitem",text:"Button - Unelevated",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple unelevated' href='#'>Button</a>")}},{type:"menuitem",text:"Button - Raised",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple raised' href='#'>Button</a>")}},{type:"menuitem",text:"Button Rounded - Default",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple rounded' href='#'>Button</a>")}},{type:"menuitem",text:"Button Rounded - Outlined",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple rounded outlined' href='#'>Button</a>")}},{type:"menuitem",text:"Button Rounded - Unelevated",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple rounded unelevated' href='#'>Button</a>")}},{type:"menuitem",text:"Button Rounded - Raised",onAction:function(){t.insertContent("<a class='elcreative_button elcreative_ripple rounded raised' href='#'>Button</a>")}}]}})}};functionLoadScript("https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.10.5/tinymce.min.js").then((function(){tinymce.init(r);var a=0;o.form.addEventListener("submit",(function(r){r.preventDefault();var l={'"':'"',mcetoc:"elcreative_toc"};r=tinymce.get("post_contents").getContent().replace(/"|mcetoc/g,(function(t){return l[t]})),o.updatePost?(0,e.updateDoc)(t,{title:o.form.titles.value,label:o.form.label.value,status:o.form.status.value,content:decodeURI(r),updatedAt:(0,e.serverTimestamp)(),description:o.form.description.value}).then((function(){window.location.href="?post-view=".concat(s[2]?"".concat(o.docID,"=").concat(s[2]):o.docID)})):1==++a?(0,e.addDoc)(t,{title:o.form.titles.value,label:o.form.label.value,author:o.data.displayName,authorUID:o.data.uid,status:o.form.status.value,content:decodeURI(r),createdAt:(0,e.serverTimestamp)(),updatedAt:(0,e.serverTimestamp)(),description:o.form.description.value}).then((function(){o.form.reset(),window.location.href=n})):window.location.reload()}))}))},m=function(t,o){confirm(c.text.textConfirm)&&(0,e.deleteDoc)((0,e.doc)(v,"users/".concat(o,"/posts/").concat(t))).then((function(){window.location.href=n})).catch((function(t){}))},b=function t(o,r){var a=(0,e.onSnapshot)(o,(function(o){var n="";o.docs.forEach((function(t){var e=t.data(),o=t.id,r=e.title,a=e.author,l=g(e.createdAt),i=e.description,s=e.status;n+="\n                        <div class='relative mb-3 flex w-full flex-col items-start justify-center border-b border-colorBorder pb-3 last:mb-0 last:border-b-0 last:pb-0 dark:border-colorColorModeDarkBorder'>\n                            <a href='?post-view=".concat(o,"' class='mb-1 w-full text-colorText hover:text-colorKey ltr:pr-9 rtl:pl-9 dark:text-colorColorModeDarkText dark:hover:text-colorColorModeDarkKey'><span class='w-full font-bold'>").concat(r,"</span></a>\n        \n                            <div class='flex mb-1 w-full flex-row flex-wrap items-center justify-start text-sm text-colorMeta dark:text-colorColorModeDarkMeta'>\n                                <span class='notranslate flex flex-row items-center justify-center'><strong>").concat(a,"</strong></span>\n                                <span class='flex flex-row items-center justify-center before:mx-1 before:content-[var(--contentBullet)]'><time class='flex flex-row items-center justify-center'>").concat(l,"</time></span>\n                            </div>\n        \n                            <div class='relative block w-full text-ellipsis text-[13px] leading-5 text-colorMeta line-clamp-2 dark:text-colorColorModeDarkMeta'>").concat(i,"</div>\n        \n                            ").concat("post_guest"==s?"<div class='mt-2 rounded-full bg-colorBorder py-[2px] px-2 text-xs leading-normal text-colorColorModeDarkBackground dark:bg-colorColorModeDarkBorder dark:text-colorBackground'>Waiting for Review</div>":"","\n        \n                            <button class='elcreative_button_icon elcreative_ripple absolute top-0 ltr:right-0 rtl:left-0' aria-label='More' title='More' aria-expanded='false' aria-haspopup='listbox' data-toggle-class-on-target='active'  data-toggle-target='#dropdown_auth_post_").concat(o,"' data-toggle-escape data-toggle-outside><svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>").concat(c.icons.iconMoreVertical,"</svg></button>\n        \n                            <div id='dropdown_auth_post_").concat(o,"' class='elcreative_dropdown dropdown_auth_post_").concat(o," top-0 z-40 ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left' data-toggle-state='true'>\n                                <a href='?post-view=").concat(o,"' class='dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2>").concat(c.text.textViewPost,"</a>\n                                <a href='?post-edit=").concat(o,"' class='dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2'>").concat(c.text.textEditPost,"</a>\n                                <button data-post-id='").concat(o,"' class='dropdown_item button_delete_post relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' data-toggle-trigger-off>").concat(c.text.textDeletePost,"</button>\n                            </div>\n                        </div>\n                    ")})),r.container.innerHTML+=""!=n?"".concat(n,"<div class='flex items-center justify-center flex-row w-full'><button id='next_data' class='elcreative_button elcreative_ripple relative w-full' type='button' aria-label='").concat(c.text.textLoadMore,"'>").concat(c.text.textLoadMore,"</button></div>"):"<p class='my-3 noresult text-sm text-center'>".concat(c.text.textNoResult,"</p>");var l=r.container.querySelectorAll(".button_delete_post");l&&l.forEach((function(t,e){t.addEventListener("click",(function(e){e.preventDefault(),m(t.getAttribute("data-post-id"),r.userUID)}),!1)}));var i=null!=o.docs[o.docs.length-1]?o.docs[o.docs.length-1]:null,s=r.container.querySelector("#next_data");s&&s.addEventListener("click",(function(o){o.preventDefault(),t((0,e.query)(r.referenceCollPost,(0,e.orderBy)("createdAt","desc"),(0,e.startAfter)(i),(0,e.limit)(c.limitPostList)),{container:r.container,referenceCollPost:r.referenceCollPost,userUID:r.userUID}),s.remove()})),!o.metadata.hasPendingWrites&&a(),window.easyToggleState()}))},h=function t(o,r){var a=(0,e.onSnapshot)(o,(function(o){var n="";o.docs.forEach((function(t){var e=t.data(),o=t.id,r=e.title,a=e.author,l=g(e.createdAt),i=e.description,s=e.status,d=e.authorUID;n+="\n                        <div class='relative mb-3 flex w-full flex-col items-start justify-center border-b border-colorBorder pb-3 last:mb-0 last:border-b-0 last:pb-0 dark:border-colorColorModeDarkBorder'>\n                        <a href='?post-view=".concat(o,"=").concat(d,"' class='mb-1 w-full text-colorText hover:text-colorKey ltr:pr-9 rtl:pl-9 dark:text-colorColorModeDarkText dark:hover:text-colorColorModeDarkKey'><span class='w-full font-bold'>").concat(r,"</span></a>\n\n                        <div class='flex mb-1 w-full flex-row flex-wrap items-center justify-start text-sm text-colorMeta dark:text-colorColorModeDarkMeta'>\n                            <span class='notranslate flex flex-row items-center justify-center'><strong>").concat(a,"</strong></span>\n                            <span class='flex flex-row items-center justify-center before:mx-1 before:content-[var(--contentBullet)]'><time class='flex flex-row items-center justify-center'>").concat(l,"</time></span>\n                        </div>\n\n                        <div class='relative block w-full text-ellipsis text-[13px] leading-5 text-colorMeta line-clamp-2 dark:text-colorColorModeDarkMeta'>").concat(i,"</div>\n\n                        ").concat("post_guest"==s?"<div class='mt-2 rounded-full bg-colorBorder py-[2px] px-2 text-xs leading-normal text-colorColorModeDarkBackground dark:bg-colorColorModeDarkBorder dark:text-colorBackground'>Waiting for Review</div>":"","\n\n                        <button class='elcreative_button_icon elcreative_ripple absolute top-0 ltr:right-0 rtl:left-0' aria-label='More' title='More' aria-expanded='false' aria-haspopup='listbox' data-toggle-class-on-target='active'  data-toggle-target='#dropdown_auth_post_").concat(o,"' data-toggle-escape data-toggle-outside><svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>").concat(c.icons.iconMoreVertical,"</svg></button>\n\n                        <div id='dropdown_auth_post_").concat(o,"' class='elcreative_dropdown dropdown_auth_post_").concat(o," top-0 z-40 ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left' data-toggle-state='true'>\n                            <a href='?post-view=").concat(o,"=").concat(d,"' class='dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2'>").concat(c.text.textViewPost,"</a>\n                            <a href='?post-edit=").concat(o,"=").concat(d,"' class='dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2'>").concat(c.text.textEditPost,"</a>\n                            <button data-post-id='").concat(o,"' data-author-id='").concat(d,"' class='dropdown_item button_delete_post relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' data-toggle-trigger-off>").concat(c.text.textDeletePost,"</button>\n                        </div>\n                    </div>\n                    ")})),r.containerPost.innerHTML+=""!=n?"".concat(n,"<div class='flex items-center justify-center flex-row w-full'><button id='next_data' class='elcreative_button elcreative_ripple relative w-full' type='button' aria-label='").concat(c.text.textLoadMore,"'>").concat(c.text.textLoadMore,"</button></div>"):"<p class='my-3 text-sm noresult text-center'>".concat(c.text.textNoResult,"</p>");var l=r.containerPost.querySelectorAll(".button_delete_post");l&&l.forEach((function(t,e){t.addEventListener("click",(function(e){e.preventDefault(),m(t.getAttribute("data-post-id"),t.getAttribute("data-author-id"))}),!1)}));var i=null!=o.docs[o.docs.length-1]?o.docs[o.docs.length-1]:null,s=r.containerPost.querySelector("#next_data");s&&s.addEventListener("click",(function(o){o.preventDefault(),t((0,e.query)((0,e.collectionGroup)(v,"posts"),(0,e.where)("status","==","post_draft"),(0,e.startAfter)(i),(0,e.limit)(c.limitPostList)),{userUID:r.userUID,userRole:r.userRole,containerPost:r.containerPost}),s.remove()})),!o.metadata.hasPendingWrites&&a(),window.easyToggleState()}))},_=function(t,o){var r=(0,e.onSnapshot)(t,(function(t){var a="";t.docs.forEach((function(t){var e=t.data(),o=t.id,r=e.title,n=e.href;a+="<div class='mb-2 flex w-full flex-row items-center justify-between border-b border-colorBorder pb-2 last:mb-0 last:border-none last:pb-0 dark:border-colorColorModeDarkBorder'><a class='text-colorText hover:text-colorKey hover:underline ltr:mr-2 rtl:ml-2 dark:text-colorColorModeDarkText dark:hover:text-colorColorModeDarkKey line-clamp-3' id='saved_post_".concat(o,"' href='").concat(n,"'>").concat(r,"</a><button class='button_saved_post_remove text-sm text-colorKey hover:underline dark:text-colorColorModeDarkKey' data-post-id='").concat(o,"'>").concat(elcreativeConfig.with.translateDelete,"</button></div>")})),o.container.innerHTML=""!=a?"".concat(a):"<p class='my-3 noresult text-sm text-center'>".concat(c.text.textNoResult,"</p>"),document.querySelectorAll(".button_saved_post_remove").forEach((function(t){t.addEventListener("click",(function(r){var a,n,l;r.preventDefault(),a=o.userUID,n=t.getAttribute("data-post-id"),l=JSON.parse(localStorage.getItem("savedPost"))||{},confirm(c.text.textConfirm)&&(0,e.deleteDoc)((0,e.doc)(v,"users/".concat(a,"/postsSaved/").concat(n))).then((function(){delete l[n],localStorage.setItem("savedPost",JSON.stringify(l)),window.location.reload()})).catch((function(t){}))}),!1)})),!t.metadata.hasPendingWrites&&r()}))},y=function(t,o,r,a){(0,e.setDoc)((0,e.doc)(v,"users/".concat(t,"/postsSaved"),o),{title:r,href:a},{merge:!1})},w=function(){var t,e=(t=l().mark((function t(e){var o,n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.GoogleAuth.getClient({scopes:["https://www.googleapis.com/auth/blogger"]});case 3:return o=t.sent,n=r.GoogleApis.blogger({version:"v3",auth:o,apiKey:"AIzaSyCbeiP66A3aS68k7JJYOrIr5_jHvQ50OVI"}),t.next=7,n.posts.insert(e);case 7:t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,o=arguments;return new Promise((function(r,a){var n=t.apply(e,o);function l(t){i(n,r,a,l,c,"next",t)}function c(t){i(n,r,a,l,c,"throw",t)}l(void 0)}))});return function(t){return e.apply(this,arguments)}}(),k=function t(o,r){var a=(0,e.onSnapshot)(o,(function(o){var n="";o.docs.forEach((function(t){var e=t.id,o=t.data(),a=o.userPhotoUrl,l=o.userDisplayName,i=o.userCustomDisplayName,s=o.userPublic,d=o.userRole?o.userRole:"user";n+="\n                        <div class='relative flex w-full flex-col items-center justify-center py-2'>\n                            <div class='relative h-16 w-16 flex-shrink-0 flex-grow-0'>\n                                ".concat("admin"==r.userRole?"<img src='".concat(a||c.images.imageUserDefault,"' alt='").concat(i||l,"' class='h-full w-full rounded-full text-transparent'/>"):"<img src='".concat("true"==s?a||c.imageUserDefault:c.images.imageUserDefault,"' alt='").concat("true"==s?i||l:"Private User","' class='h-full w-full rounded-full text-transparent'/>"),"\n\n                                ").concat("admin"==r.userRole?"admin"==d?"<svg class='absolute bottom-0 rounded-full bg-colorBackground text-colorKey ltr:right-0 rtl:left-0 dark:bg-colorColorModeDarkBackground dark:text-colorColorModeDarkKey' height='18' viewBox='0 0 24 24' width='18' title='Administrator' fill='currentColor'>".concat(c.icons.iconVerified,"</svg>"):"":"true"==s&&"admin"==d?"<svg class='absolute bottom-0 rounded-full bg-colorBackground text-colorKey ltr:right-0 rtl:left-0 dark:bg-colorColorModeDarkBackground dark:text-colorColorModeDarkKey' height='18' viewBox='0 0 24 24' width='18' title='Administrator' fill='currentColor'>".concat(c.icons.iconVerified,"</svg>"):"","\n                            </div>\n                            <div class='mt-2 text-center font-medium leading-5 text-colorText dark:text-colorColorModeDarkText'>\n                                ").concat("admin"==r.userRole||"true"==s?i||l:"Private User","\n                            </div>\n                            ").concat("admin"==r.userRole?"<button data-user-id='".concat(e,"' class='button_view_users inline-flex flex-row items-center justify-center text-xs text-colorKey dark:text-colorColorModeDarkKey' type='button' data-toggle-target='#dialog_users' data-toggle-class-on-target='active' data-toggle-escape data-toggle-outside>").concat("false"==s?"<svg fill='currentColor' height='12' viewBox='0 0 24 24' width='12' title='Private User' class='ltr:mr-1 rtl:ml-1' title='Private User'>".concat(c.icons.iconLock,"</svg>"):"","<span>").concat(c.text.textViewProfile,"</span></button>"):"true"==s?"<button data-user-id='".concat(e,"' class='button_view_users inline-flex flex-row items-center justify-center text-xs text-colorKey dark:text-colorColorModeDarkKey' type='button' data-toggle-target='#dialog_users' data-toggle-class-on-target='active' data-toggle-escape data-toggle-outside>").concat(c.text.textViewProfile,"</button>"):'<span class="text-xs text-colorMeta dark:text-colorColorModeDarkMeta">'.concat(c.text.textHiddenProfile,"</span>"),"\n\n                            ").concat("admin"==r.userRole?"<button class='elcreative_button_icon elcreative_ripple absolute top-0 ltr:right-0 rtl:left-0' aria-label='More' title='More' aria-expanded='false' aria-haspopup='listbox' data-toggle-class-on-target='active' data-toggle-target='#dropdown_set_remove_admin_".concat(e,"' data-toggle-escape data-toggle-outside><svg width='14' height='14' viewBox='0 0 24 24' fill='currentColor'>").concat(c.icons.iconMoreVertical,"</svg></button>\n        \n                            <div id='dropdown_set_remove_admin_").concat(e,"' class='elcreative_dropdown top-0 z-40 ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left' data-toggle-state='true'>\n                                <button data-user-id='").concat(e,"' data-user-role='").concat(d,"' class='dropdown_set_remove_admin dropdown_item button_delete_post text-colorMeta hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' data-toggle-trigger-off>").concat("admin"!=d?c.text.textSetAdmin:c.text.textSetUser,"</button>\n                            </div>"):"","\n                        </div>\n                    ")})),r.containerUser.innerHTML+=""!=n?"".concat(n,"<button id='next_data' class='elcreative_button elcreative_ripple col-span-2 mt-3 lg:col-span-3' type='button' aria-label='").concat(c.text.textLoadMore,"'>").concat(c.text.textLoadMore,"</button>"):"<p class='my-3 noresult text-center text-sm col-span-2 lg:col-span-3'>".concat(c.text.textNoResult,"</p>");var l=null!=o.docs[o.docs.length-1]?o.docs[o.docs.length-1]:null,i=r.containerUser.querySelector("#next_data");i&&i.addEventListener("click",(function(o){o.preventDefault(),t((0,e.query)((0,e.collection)(v,"users"),(0,e.orderBy)("userLastSigned","desc"),(0,e.startAfter)(l),(0,e.limit)(c.limitUserList)),{userUID:r.userUID,userRole:r.userRole,containerUser:r.containerUser}),i.remove(),window.easyToggleState()}));var s=r.containerUser.querySelectorAll(".button_view_users"),d=document.querySelector(".dialog_users .dialog_container .dialog_content");s&&s.forEach((function(t,o){t.addEventListener("click",(function(){var o,a,n;d.innerHTML=c.elements.elementLoader,o=t.getAttribute("data-user-id"),a={container:d,userRole:r.userRole},n=(0,e.onSnapshot)((0,e.doc)(v,"users/".concat(o)),(function(t){t.id;var e=t.data(),o=e.userPhotoUrl,r=e.userDisplayName,l=e.userCustomDisplayName,i=(e.userPublic,e.userRole),s=e.userCustomWebURL,d=e.userEmail,u=e.userCustomPhone,f=e.userCustomBio,v="\n                <div class='flex w-full flex-col items-center justify-center py-4'>\n                    <div class='relative h-[100px] w-[100px] flex-shrink-0 flex-grow-0'>\n                        <img src='".concat(o||c.images.imageUserDefault,"' alt='").concat(l||r,"' class='h-full w-full rounded-full text-transparent'/>\n\n                        ").concat(i&&"admin"==i?"<svg class='absolute bottom-0 rounded-full bg-colorBackground fill-current p-1 text-colorKey ltr:right-0 rtl:left-0 dark:bg-colorColorModeDarkBackgroundAlt dark:text-colorColorModeDarkKey' height='28' viewBox='0 0 24 24' width='28'>".concat(c.icons.iconVerified,"</svg>"):"","\n                    </div>\n                    <div class='mt-3 flex w-full flex-col items-center justify-center'>\n                        <div class='text-lg text-colorText dark:text-colorColorModeDarkText'>\n                            <strong>").concat(l||r,"</strong>\n                        </div>\n\n                        <div class='flex w-full flex-col items-center justify-center text-sm'>\n                            ").concat(s?"<a href='".concat(s,"' class='text-colorKey hover:underline dark:text-colorColorModeDarkKey' target='_blank' rel='nofollow noopener noreferer'>Website</a>"):"","\n\n                            ").concat("admin"==a.userRole?"<div class='flex w-full flex-row items-center justify-center text-sm'><span>".concat(d,"</span>").concat(u?"<span class='mx-2'>|</span><span>".concat(u,"</span>"):"","</div>"):"","\n\n                            ").concat(f?"<div class='mt-1 w-full text-center text-sm text-colorMeta dark:text-colorColorModeDarkMeta'>".concat(f,"</div>"):"","\n                        </div>\n                    </div>\n                </div>\n                ");a.container.innerHTML=v,!t.metadata.fromCache||!t.metadata.hasPendingWrites&&n()}))}),!1),t.addEventListener("toggleAfter",(function(t){window.easyToggleState.isActive(t.target)?document.documentElement.classList.add("overflow-hidden"):document.documentElement.classList.remove("overflow-hidden")}))}));var u=r.containerUser.querySelectorAll(".dropdown_set_remove_admin");u&&u.forEach((function(t,o){t.addEventListener("click",(function(){var o=(0,e.doc)(v,"users/".concat(t.getAttribute("data-user-id")));if(!confirm(c.text.textConfirm))return!1;"admin"==t.getAttribute("data-user-role")?(0,e.updateDoc)(o,{userRole:"user"}):(0,e.updateDoc)(o,{userRole:"admin"}),window.location.reload()}),!1)})),!o.metadata.hasPendingWrites&&a(),window.easyToggleState()}))},C=function(t,r){var a=(0,e.onSnapshot)(t,(function(n){var l=n.data(),i=l.userPhotoUrl,s=l.userCustomDisplayName?l.userCustomDisplayName:l.userDisplayName,d=l.userRole?l.userRole:"",u=l.userCustomWebURL?l.userCustomWebURL:"",f=l.userCustomBio?l.userCustomBio:"",g=l.userCustomPhone?l.userCustomPhone:"",x=l.userPublic?l.userPublic:"",m=l.userBlogID?l.userBlogID:"",w=l.userGoogleAPIKey?l.userGoogleAPIKey:"",C=l.userGoogleClientID?l.userGoogleClientID:"",M="\n                    <div class='relative flex w-full flex-col items-center justify-center rounded-lg border border-colorBorder p-3 dark:border-colorColorModeDarkBorder'>\n                        <div class='flex w-full flex-col items-center justify-center lg:flex-row'>\n                            <div class='relative h-[100px] w-[100px] flex-shrink-0 flex-grow-0'>\n                                <img src='".concat(i||c.images.imageUserDefault,"' alt='").concat(s,"' title='").concat(s,"' class='h-full w-full rounded-full text-transparent'/>\n                                ").concat(d&&"admin"==d?"<svg class='absolute bottom-0 rounded-full bg-colorBackground fill-current p-1 text-colorKey ltr:right-0 rtl:left-0 dark:bg-colorColorModeDarkBackground dark:text-colorColorModeDarkKey' height='28' viewBox='0 0 24 24' width='28' title='Admin'>".concat(c.icons.iconVerified,"</svg>"):"","\n                            </div>\n                            <div class='mt-3 flex w-full flex-col items-center justify-center lg:mt-0 lg:items-start ltr:lg:ml-4 rtl:lg:mr-4'>\n                                <div class='text-lg text-colorText dark:text-colorColorModeDarkText'>\n                                    <strong>").concat(s,"</strong>\n                                </div>\n                                <div class='flex w-full flex-row items-center justify-center text-sm lg:justify-start'>\n                                    ").concat(""!=u?"<a href='".concat(u,"' class='text-colorKey hover:underline dark:text-colorColorModeDarkKey' target='_blank' rel='nofollow noopener noreferer'>Website</a>"):"","\n                                </div>\n                                ").concat(""!=f?"<div class='mt-1 w-full text-center text-sm text-colorMeta dark:text-colorColorModeDarkMeta lg:text-start'>".concat(f,"</div>"):"","\n                            </div>\n                        </div>\n                    \n                        <button class='elcreative_button_icon elcreative_ripple absolute top-3 ltr:right-3 rtl:left-3' aria-label='More' title='More' aria-expanded='false' aria-haspopup='listbox' data-toggle-class-on-target='active' data-toggle-target='#dropdown_auth_profile_more' data-toggle-escape data-toggle-outside><svg width='20' height='20' viewBox='0 0 24 24'>").concat(c.icons.iconSettings,"</svg></button>\n\n                        <div id='dropdown_auth_profile_more' class='elcreative_dropdown dropdown_auth_profile_more top-3 ltr:right-3 ltr:origin-top-right rtl:left-3 rtl:origin-top-left w-max' data-toggle-state='true'>\n                            <button class='dropdown_item elcreative_ripple text-colorMeta hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' data-toggle-target='#dialog_profile' data-toggle-class-on-target='active' data-toggle-escape data-toggle-outside data-toggle-trigger-off>").concat(c.text.textEditProfile,"</button>\n                            <button id='button_auth_signout' class='dropdown_item elcreative_ripple text-colorMeta hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2'>").concat(c.text.textSignOut,"</button>\n                        </div>\n                    </div>\n\n                    <div class='mt-4 flex w-full flex-col items-center justify-around gap-3 lg:flex-row'>\n                        <a href='?post-add' class='elcreative_button elcreative_ripple outlined w-full' rel='noopener'>").concat(c.text.textCreateNewPost,"</a>\n                    </div>\n\n                    <div id='tabs_profile' class='elcreative_tabs mt-4 rounded-lg border border-colorBorder bg-colorBackground shadow-none dark:border-colorColorModeDarkBorder dark:bg-colorColorModeDarkBackground'>\n                        <div class='tab_buttons'>\n                            <button class='tab_button elcreative_ripple' type='button' data-toggle-target='#tab_posts' data-toggle-radio-group='tab_group_1' data-toggle-class data-toggle-is-active><span>").concat(c.text.textMyPosts,"</span></button>\n                            ").concat("admin"==d?"<button id='tab_button_posts_all' class='tab_button elcreative_ripple' type='button' data-toggle-target='#tab_posts_all' data-toggle-radio-group='tab_group_1' data-toggle-class><span>".concat(c.text.textAllPost,"</span></button>"):"","\n                            <button id='tab_button_saved_posts' class='tab_button elcreative_ripple' type='button' data-toggle-target='#tab_saved_posts' data-toggle-radio-group='tab_group_1' data-toggle-class data-toggle-is-active><span>").concat(c.text.translatePostSavedMenu,"</span></button>\n                            <button id='tab_button_users' class='tab_button elcreative_ripple' type='button' data-toggle-target='#tab_users' data-toggle-radio-group='tab_group_1' data-toggle-class><span>").concat(c.text.textUsers,"</span></button>\n                        </div>\n                        <div class='tab_contents'>\n                            <div id='tab_posts' class='tab_content'>").concat(c.elements.elementLoader,"</div>\n                            ").concat("admin"==d?"<div id='tab_posts_all' class='tab_content'>".concat(c.elements.elementLoader,"</div>"):"","\n                            <div id='tab_saved_posts' class='tab_content'>").concat(c.elements.elementLoader,"</div>\n                            <div id='tab_users' class='tab_content users_list_container grid h-0 w-full grid-cols-2 gap-2 lg:grid-cols-3'>").concat(c.elements.elementLoader,"</div>\n                        </div>\n                    </div>\n\n                    <form id='dialog_profile' class='elcreative_dialog dialog_profile'>\n                        <div class='dialog_container'>\n                            <div class='dialog_header'>\n                                <span>").concat(c.text.textEditProfile,"</span>\n                                <div class='elcreative_button_icon elcreative_ripple' type='button' aria-label='Close' title='Close' data-toggle-trigger-off><svg width='24' height='24' viewBox='0 0 24 24' fill='currentColor'>").concat(c.icons.iconClose,"</svg></div>\n                            </div>\n                            <div class='dialog_content'>\n                                <div class='elcreative_input'>\n                                    <input id='names' name='names' value='").concat(s,"' placeholder=' ' type='text' autocomplete='off'/>\n                                    <label for='name'>").concat(c.text.textName,"</label>\n                                </div>\n                                <div class='elcreative_input'>\n                                    <textarea id='bio' name='bio' placeholder=' ' maxlength='150' autocomplete='off'>").concat(f||"","</textarea>\n                                    <label for='bio'>").concat(c.text.textBio,"</label>\n                                </div>\n                                <div class='elcreative_input'>\n                                    <input id='web' name='web' value='").concat(u||"","' placeholder=' ' type='url' autocomplete='off'/>\n                                    <label for='web'>").concat(c.text.textWebURL,"</label>\n                                </div>\n                                <div class='elcreative_input'>\n                                    <input id='phone' name='phone' value='").concat(g||"","' placeholder=' ' type='number' autocomplete='off'/>\n                                    <label for='phone'>").concat(c.text.textPhone,"</label>\n                                </div>\n                                <div class='elcreative_input mb-4'>\n                                    <select id='visibility' name='visibility' class='bg-colorBackground dark:bg-colorColorModeDarkBackgroundAlt'>\n                                        <option value='false' ").concat(x&&"false"==x?"selected":"",">").concat(c.text.textProfilePrivate,"</option>\n                                        <option value='true' ").concat(x&&"true"==x?"selected":"",">").concat(c.text.textProfilePublic,"</option>\n                                    </select>\n                                    <label for='visibility'>").concat(c.text.textProfileVisibility,"</label>\n                                </div>\n\n                                <div class='elcreative_input'>\n                                    <input id='blogger_blog_id' name='blogger_blog_id' value='").concat(m||"","' placeholder=' ' type='text' autocomplete='off'/>\n                                    <label for='blogger_blog_id'>Blogger Blog ID</label>\n                                </div>\n                                <div class='elcreative_input'>\n                                    <input id='google_api_key' name='google_api_key' value='").concat(w||"","' placeholder=' ' type='text' autocomplete='off'/>\n                                    <label for='google_api_key'>Google API Key</label>\n                                </div>\n                                <div class='elcreative_input'>\n                                    <input id='google_client_id' name='google_client_id' value='").concat(C||"","' placeholder=' ' type='text' autocomplete='off'/>\n                                    <label for='google_client_id'>Google Client ID</label>\n                                </div>\n                                <div class='mt-2 flex w-full flex-row items-center justify-end'>\n                                    <button id='button_profile_save' class='elcreative_button elcreative_ripple raised'>").concat(c.text.textSave,"</button>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n\n                    <div id='dialog_users' class='elcreative_dialog dialog_users'><div class='dialog_container'><div class='dialog_content'>").concat(c.elements.elementLoader,"</div></div></div>\n                ");c.elements.elementContainer.innerHTML=M,(0,e.updateDoc)(t,{userPublic:x||"true"});var T=c.elements.elementContainer.querySelector("#dialog_profile");T.addEventListener("submit",(function(o){o.preventDefault(),(0,e.updateDoc)(t,{userCustomDisplayName:T.names.value,userCustomBio:T.bio.value,userCustomWebURL:T.web.value,userCustomPhone:T.phone.value,userPublic:T.visibility.value,userBlogID:T.blogger_blog_id.value,userGoogleAPIKey:T.google_api_key.value,userGoogleClientID:T.google_client_id.value}),window.location.reload()}));var D=c.elements.elementContainer.querySelector("#tabs_profile"),P=D.querySelector("#tab_posts");b((0,e.query)(r.referenceCollPost,(0,e.orderBy)("createdAt","desc"),(0,e.limit)(c.limitPostList)),{container:P,referenceCollPost:r.referenceCollPost,userUID:n.id}),P.innerHTML="";var S=D.querySelector("#tab_button_posts_all"),L=D.querySelector("#tab_posts_all"),A=0;"admin"===d&&S.addEventListener("click",(function(){1==++A&&(L.innerHTML="",h((0,e.query)((0,e.collectionGroup)(v,"posts"),(0,e.where)("status","==","post_draft"),(0,e.limit)(c.limitPostList)),{userUID:n.id,userRole:d,containerPost:L}))}));var B=D.querySelector("#tab_button_saved_posts"),j=D.querySelector("#tab_saved_posts"),E=0;B.addEventListener("click",(function(){var t=JSON.parse(localStorage.getItem("savedPost"))||{};if(1==++E&&(j.innerHTML="",_((0,e.query)(r.referenceCollPostSaved),{userUID:n.id,container:j,referenceCollPostSaved:r.referenceCollPostSaved})),Object.keys(t).length>0)for(var o in t){var a=t[o];y(n.id,o,a.title,a.url)}else j.innerHTML="<p class='my-3 text-sm noresult text-center'>".concat(c.text.textNoResult,"</p>")}));var I=D.querySelector("#tab_button_users"),U=D.querySelector("#tab_users"),R=0;I.addEventListener("click",(function(){1==++R&&(U.innerHTML="",k((0,e.query)((0,e.collection)(v,"users"),(0,e.orderBy)("userLastSigned","desc"),(0,e.limit)(c.limitUserList)),{userUID:n.id,userRole:d,containerUser:U}))})),c.elements.elementContainer.querySelector("#button_auth_signout").addEventListener("click",(function(t){t.preventDefault(),(0,o.signOut)(p).then((function(){localStorage.removeItem("auth_image"),window.location.href="/"})).catch((function(t){}))})),!n.metadata.hasPendingWrites&&a(),window.easyToggleState()}))};(0,o.onAuthStateChanged)(p,(function(t){var r,a,l;t?(0,e.setDoc)((0,e.doc)(v,"users",t.uid),{userDisplayName:t.displayName,userEmail:t.email,userUID:t.uid,userPhotoUrl:t.photoURL,userJoined:t.metadata.creationTime,userLastSigned:t.metadata.lastSignInTime},{merge:!0}).then((function(){localStorage.setItem("auth_image",t.photoURL);var o=(0,e.doc)(v,"users/".concat(t.uid)),r=""!=s[1]?(0,e.doc)(v,"users/".concat(s[2]?s[2]:t.uid,"/posts/").concat(s[1])):"",a=(0,e.collection)(v,"users/".concat(t.uid,"/posts")),l=(0,e.collection)(v,"users/".concat(t.uid,"/postsSaved"));"post-view"==s[0]&&""!=s[1]?function(t,o){var r=(0,e.onSnapshot)(t,(function(t){var e=t.id,a=t.data();if(null!=a){var l=a.label,i=a.title,d=a.description,u=a.author,f=(a.status,g(a.createdAt)),v=a.content,p="\n                        <nav class='mb-2 flex flex-row items-center justify-start text-sm text-colorMeta dark:text-colorColorModeDarkMeta'><a href='".concat(n,"' title='Dashboard' class='relative text-colorItemMeta dark:text-colorColorModeDarkMeta'>Dashboard</a>").concat(l?"<span class='mx-2'>/</span><span>".concat(l,"</span>"):"","</nav>\n\n                        <h1 class='mb-2 w-full text-2xl font-bold text-colorText dark:text-colorColorModeDarkText'>").concat(i,"</h1>\n\n                        ").concat(""!=d?"<div class='mb-3 w-full text-[15px] text-colorMeta dark:text-colorColorModeDarkMeta'><em>".concat(d,"</em></div>"):"","\n\n                        <div class='mb-1 flex w-full flex-row flex-wrap items-center justify-between text-sm text-colorMeta dark:text-colorColorModeDarkMeta'>\n                            <div class='flex flex-row flex-wrap items-center justify-between'>\n                                <div class='flex flex-col flex-wrap items-start justify-between'>\n                                    <strong class='notranslate'>").concat(u,"</strong>\n                                    <time>").concat(f,"</time>\n                                </div>\n                            </div>\n                            <div class='relative flex flex-row flex-wrap items-center justify-between'>\n                                <button class='elcreative_button_icon elcreative_ripple' aria-label='More' title='More' aria-expanded='false' aria-haspopup='listbox' data-toggle-class-on-target='active'  data-toggle-target='#dropdown_auth_post_").concat(e,"' data-toggle-escape data-toggle-outside><svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>").concat(c.icons.iconMoreVertical,"</svg></button>\n                                <div id='dropdown_auth_post_").concat(e,"' class='elcreative_dropdown dropdown_auth_post_").concat(e," top-0 ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left' data-toggle-state='true'>\n                                    <a href='?post-edit=").concat(s[2]?e+"="+s[2]:e,"' class='dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' data-toggle-trigger-off>").concat(c.text.textEditPost,"</a>\n                                    <button id='button_delete_post' class='button_delete_post dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' type='button' aria-label='").concat(c.text.textDeletePost,"'>").concat(c.text.textDeletePost,"</button>\n\n\n                                    <button id='button_publish_to_my_blog' class='button_publish_to_my_blog dropdown_item elcreative_ripple relative flex w-full cursor-pointer select-none appearance-none items-center justify-start py-2 px-4 text-sm text-colorMeta no-underline hover:bg-colorTextTrans1 focus:bg-colorTextTrans1 active:bg-colorTextTrans2 dark:text-colorColorModeDarkMeta dark:hover:bg-colorColorModeDarkTextTrans1 dark:focus:bg-colorColorModeDarkTextTrans1 dark:active:bg-colorColorModeDarkTextTrans2' type='button' aria-label='Publish to My Blog (Draft)'>Publish to My Blog (Draft)</button>\n                                </div>\n                            </div>\n                        </div>\n                    ");c.elements.elementPostHeader.innerHTML=p,c.elements.elementContainer.innerHTML=v;var x=c.elements.elementPostHeader.querySelector(".button_delete_post");x&&x.addEventListener("click",(function(){m(e,s[2]?s[2]:o.userUID)}),!1);var b=c.elements.elementPostHeader.querySelector(".button_publish_to_my_blog");b&&b.addEventListener("click",(function(){w({blogId:"4906865668815412272",requestBody:{content:v,customMetaData:d,labels:["LABEL_1","LABEL_2"],status:"DRAFT",title:i}})}),!1),!t.metadata.fromCache||!t.metadata.hasPendingWrites&&r(),window.easyToggleState()}else window.location.href=n}),(function(t){t&&(window.location.href=n)}))}(r,{userUID:s[2]?s[2]:t.uid}):"post-edit"==s[0]&&""!=s[1]?function(t){var o=(0,e.onSnapshot)(t,(function(e){var r=e.id,a=e.data();if(null!=a){var l=a.label,i=a.title,s=a.description,d=(a.author,g(a.createdAt),a.content),u=a.status,f="\n                        <form id='edit_post'>\n                            <div class='elcreative_input'>\n                                <input id='titles' name='titles' value='".concat(i,"' placeholder=' ' type='text' autocomplete='off' required/>\n                                <label for='titles'>").concat(c.text.textPostTitle,"</label>\n                            </div>\n                            <div class='elcreative_input'>\n                                <textarea id='description' name='description' cols='15' placeholder=' ' autocomplete='off' resize='horizontal' rows='3' maxlength='150' required>").concat(s,"</textarea>\n                                <label for='label'>").concat(c.text.textPostDescription,"</label>\n                            </div>\n                            <div class='elcreative_input'>\n                                <input id='label' name='label' value='").concat(l,"' placeholder=' ' type='text' autocomplete='off'/>\n                                <label for='label'>").concat(c.text.textPostLabel,"</label>\n                            </div>\n                            <div class='elcreative_input'>\n                                <select id='status' name='status' class='bg-colorBackground dark:bg-colorColorModeDarkBackground'>\n                                    <option value='post_draft' ").concat("post_draft"==u?"selected":"",">").concat(c.text.textSavePostPrivate,"</option>\n                                    <option value='post_guest' ").concat("post_guest"==u?"selected":""," disabled>").concat(c.text.textSavePostGuest,"</option>\n                                    <option value='post_private' ").concat("post_private"==u?"selected":""," disabled>").concat(c.text.textSavePostToMyBlog,"</option>\n                                    <option value='post_public' ").concat("post_public"==u?"selected":""," disabled>").concat(c.text.textSavePostPublic,"</option>\n                                </select>\n                                <label for='status'>").concat(c.text.textSaveOptions,"</label>\n                            </div>\n                            <textarea id='post_contents' class='' name='post_contents' resize='horizontal'>").concat(d,"</textarea>\n                            <div class='flex flex-row items-center justify-end mt-4'>\n                                <a class='elcreative_button elcreative_ripple ltr:mr-2 rtl:ml-2' href='").concat(n,"'>").concat(c.text.textCancel,"</a>\n                                <button class='elcreative_button elcreative_ripple raised' aria-label='").concat(c.text.textSave,"'>").concat(c.text.textSave,"</button>\n                            </div>\n                        </form>\n                    ");c.elements.elementPostTitle.innerHTML=c.text.textEditPost,c.elements.elementContainer.innerHTML=f;var v=document.getElementById("edit_post");x(t,{form:v,updatePost:!0,docID:r})}else window.location.href=n;!e.metadata.hasPendingWrites&&o()}),(function(t){t&&(window.location.href=n)}))}(r,t.uid):"post-add"==s[0]?function(t,e){var o="\n                <form id='edit_post'>\n                    <div class='elcreative_input'>\n                        <input id='titles' name='titles' placeholder=' ' type='text' autocomplete='off' required/>\n                        <label for='titles'>".concat(c.text.textPostTitle,"</label>\n                    </div>\n                    <div class='elcreative_input'>\n                        <textarea id='description' name='description' cols='15' placeholder=' ' autocomplete='off' resize='horizontal' rows='3' maxlength='150' required></textarea>\n                        <label for='label'>").concat(c.text.textPostDescription,"</label>\n                    </div>\n                    <div class='elcreative_input'>\n                        <input id='label' name='label' placeholder=' ' type='text' autocomplete='off'/>\n                        <label for='label'>").concat(c.text.textPostLabel,"</label>\n                    </div>\n                    <div class='elcreative_input'>\n                        <select id='status' name='status' class='bg-colorBackground dark:bg-colorColorModeDarkBackground'>\n                            <option value='post_draft'>").concat(c.text.textSavePostPrivate,"</option>\n                            <option value='post_guest' disabled>").concat(c.text.textSavePostGuest,"</option>\n                            <option value='post_private' disabled>").concat(c.text.textSavePostToMyBlog,"</option>\n                            <option value='post_public' disabled>").concat(c.text.textSavePostPublic,"</option>\n                        </select>\n                        <label for='status'>").concat(c.text.textSaveOptions,"</label>\n                    </div>\n                    <textarea id='post_contents' class='' name='post_contents' resize='horizontal'></textarea>\n                    <div class='flex flex-row items-center justify-end mt-4'>\n                        <a class='elcreative_button elcreative_ripple ltr:mr-2 rtl:ml-2' href='").concat(n,"'>").concat(c.text.textCancel,"</a>\n                        <button class='elcreative_button elcreative_ripple raised' aria-label='").concat(c.text.textSave,"'>").concat(c.text.textSave,"</button>\n                    </div>\n                </form>\n            ");c.elements.elementPostTitle.innerHTML=c.text.textCreateNewPost,c.elements.elementContainer.innerHTML=o;var r=document.getElementById("edit_post");x(t,{form:r,updatePost:!1,data:e.data})}(a,{userUID:t.uid,data:t}):(C(o,{referenceCollPost:a,referenceCollPostSaved:l}),c.elements.elementContainer.classList.remove("post_body"))})):(localStorage.removeItem("auth_image"),r=c.elements.elementContainer,a={postHeader:c.elements.elementPostHeader},l='\n                <div class="flex w-full flex-col items-center justify-center rounded-lg border border-colorBorder py-3 px-3 dark:border-colorColorModeDarkBorder">\n                    <img src=\''.concat(document.querySelector("link[rel^='icon']").getAttribute("href"),'\' class=\'mb-2 rounded-full shadow-2dp p-3 bg-colorBackground dark:bg-colorColorModeDarkBackgroundAlt\' />\n                    <div class="mb-2 text-2xl font-bold">Welcome</div>\n                    <div class="mb-3">Please Sign-In to continue</div>\n                    <button id=\'auth_google\' class="auth_google elcreative_button elcreative_ripple outlined" type=\'button\' aria-label=\'Sign in with Google\'><svg class=\'ltr:mr-2 rtl:ml-2\' width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z" /></svg><span>Sign in with Google</span></button>\n                    <div class="dark:text-colorColorModeDarkMeta mt-3 max-w-lg text-center text-sm text-colorMeta">*Authentication Service will share your name, email address and profile picture.</div>\n                </div>\n            '),a.postHeader.remove(),r.innerHTML=l,r.querySelector(".auth_google").addEventListener("click",(function(t){t.preventDefault();var e=new o.GoogleAuthProvider;(0,o.signInWithRedirect)(p,e).then((function(){window.location.href=s})).catch((function(t){window.location.href="/"}))})),c.elements.elementContainer.classList.remove("post_body"))}))}}(authPageIndex,{getConfig:firebaseConfig,limitPostList:4,limitUserList:6,elements:{elementContainer:elementPostBody,elementPostHeader:document.querySelector(".post_header"),elementPostTitle:document.querySelector(".post_title"),elementLoader:elcreativeConfig.include.iconLoader},images:{imageUserDefault:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhPzZlVciGeYVCgCEcfFKeNI8IhtFHNShFG_5Xavi8bej56zOpPRIjHEUZsTsLybpnEZkNJ6M-ivL0lcjLs9YEu_xVrD14a9gtcfxBAzIvwrmAY920GO9gkHtlljlwvRnLcRvD8WL5pbEcmgxCpct-7EJsMymUnpFCMxpTk8i0b0P7O82_kzKoEjeb3/w80/user-icon.webp"},text:{textBio:elcreativeConfig.with.translateBio,textCreateNewPost:elcreativeConfig.with.translateCreateNewPost,textEditProfile:elcreativeConfig.with.translateEditProfile,textMyPosts:elcreativeConfig.with.translateMyPosts,textName:elcreativeConfig.with.translateName,textPhone:elcreativeConfig.with.translatePhone,textProfileVisibility:elcreativeConfig.with.translateProfileVisibility,textProfilePrivate:elcreativeConfig.with.translateProfilePrivate,textProfilePublic:elcreativeConfig.with.translateProfilePublic,textSignOut:elcreativeConfig.with.translateSignOut,textSave:elcreativeConfig.with.translateSave,textWebURL:elcreativeConfig.with.translateWebURL,textViewPost:elcreativeConfig.with.translateViewPost,textEditPost:elcreativeConfig.with.translateEditPost,textDeletePost:elcreativeConfig.with.translateDeletePost,textLoadMore:elcreativeConfig.with.translateLoadMore,textNoResult:elcreativeConfig.dataMessages.noResultsFound,textConfirm:elcreativeConfig.with.translateConfirm,textPostTitle:elcreativeConfig.with.translatePostTitle,textPostDescription:elcreativeConfig.with.translatePostDescription,textPostLabel:elcreativeConfig.with.translatePostLabel,textSaveOptions:elcreativeConfig.with.translateSaveOptions,textSavePostPrivate:elcreativeConfig.with.translateSavePostPrivate,textSavePostGuest:elcreativeConfig.with.translateSavePostGuest,textSavePostToMyBlog:elcreativeConfig.with.translateSavePostMyBlog,textSavePostPublic:elcreativeConfig.with.translateSavePostPublic,textCancel:elcreativeConfig.with.translateCancel,textAllPost:elcreativeConfig.with.translateAllPosts,textUsers:elcreativeConfig.with.translateUsers,textViewProfile:elcreativeConfig.with.translateViewProfile,textHiddenProfile:elcreativeConfig.with.translateHiddenProfile,textSetAdmin:elcreativeConfig.with.translateSetAdmin,textSetUser:elcreativeConfig.with.translateSetUser,translatePostSavedMenu:elcreativeConfig.with.translatePostSavedMenu,translateDelete:elcreativeConfig.with.translateDelete},icons:{iconVerified:elcreativeConfig.include.iconVerified,iconSettings:elcreativeConfig.include.iconSettings,iconClose:elcreativeConfig.include.iconClose,iconMoreVertical:elcreativeConfig.include.iconMoreVertical,iconLock:elcreativeConfig.include.iconLock}})})();
